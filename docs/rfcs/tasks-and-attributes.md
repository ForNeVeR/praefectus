Tasks and Attributes
====================

_Task_ is the main piece of information used by Praefectus. Conceptually, the
only requirement for something being a task is that it has to have some
_definition of done_: it should be clear (to the one who manages the task at
least) what does it mean for the task to be _done_; which particular conditions
allow to consider the task as _closed_, i.e. not requiring any additional
actions.

Attributes
----------

In Praefectus, a _task_ is characterized by a set of attribute values. A _task
attribute_ is a piece of information of which a _task_ may consist of.

Attribute itself may be described by the following properties:

- `id`: an identifier of particular attribute.

- `type`: a data type of the attribute values. Currently, the following simple
  data types are used:

  - `boolean`: a boolean value, either true of false.
  - `enum`: a value from a finite set of named entities, declared by the type.
    One particular example is `enum[A, B, None]`.
  - `string`: a (reasonably-unlimited) sequence of Unicode characters.
  - `integer`: a 32-bit signed integer value
  - `double`: a 64-bit floating-point value, called as `binary64` in the IEEE
    754-2008 standard.
  - `timestamp`: a 64-bit UTC timestamp (count of milliseconds since
    `1970-01-01T00:00:00.000Z`) with local time zone offset.
  - `task`: a reference to another (or the same) task, represented by task
    identifier. Could be checked automatically to determine health of the
    database.

  Also, there's a complex data type supported: `list<T>`, where `T` is any of
  the simple data types. List is a finite sequence of values of the
  corresponding type.

- `description`: an attribute description in text format.

Data Attributes
---------------

Basic task in Praefectus has the following attributes:

- `id: string`: a task identifier. Should be unique across all the Praefectus
  network; thus, nodes are recommended to add unique node identifier before task
  identifiers generated by them. For example, a node named `home` could generate
  simple incremental task identifiers prepending them with `home.`: `home.1`,
  `home.2` etc.
- `title: string`: a short task title description or summary; will be shown in
  most of the default Praefectus views, so should be concise.
- `status: enum[Open, InProgress, Done, Deleted]`: a task status. While `Open`
  and `InProgress` are self-explanatory, `Done` and `Deleted` are differ in how
  the corresponding tasks are treated: `Deleted` ones shouldn't be considered by
  most reports, and any links from regular tasks to deleted ones are reported
  during diagnostics.
- `depends-on: list<task>`: a list of tasks this one depends on.

Calculated Attributes
---------------------

Not all the attributes are stored in the Praefectus data storage. Some are
calculated on the fly, because they depend on the calculation time.

- `actually-depends-on: list<task>`: a set of unresolved tasks (i.e. not `Done`
  or `Deleted`) this one depends on.
- `created: timestamp`: date of task creation. Calculated based on the task
  history.
- `updated: timestamp`: date of the last task update. Calculated based on the
  task history.
